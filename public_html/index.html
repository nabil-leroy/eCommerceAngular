<!DOCTYPE html>
<html>
    <head>
        <title>Vente chiens</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- CSS -->
        <link href="assets/css/foundation.min.css" rel="stylesheet" type="text/css"/>
        <link href="bower_components/Font-Awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
        <link href="assets/css/style.css" rel="stylesheet" type="text/css"/>
    </head>
    <body ng-app="ecommerceApp">
        <div class="title-bar" data-responsive-toggle="example-menu" data-hide-for="medium">
            <button class="menu-icon" type="button" data-toggle="example-menu"></button>
            <div class="title-bar-title">Menu</div>
        </div>

        <div class="top-bar" id="example-menu">
            <div class="top-bar-left">
                <ul class="dropdown menu" data-dropdown-menu>
                    <li class="menu-text">Site Title</li>
                    <li>
                        <a href="#">One</a>
                        <ul class="menu vertical">
                            <li><a href="#">One</a></li>
                            <li><a href="#">Two</a></li>
                            <li><a href="#">Three</a></li>
                        </ul>
                    </li>
                    <li><a href="#">Two</a></li>
                    <li><a href="#">Three</a></li>
                </ul>
            </div>
            <div class="top-bar-right">
                <ul class="menu">
                    <li><input type="search" placeholder="Search"></li>
                    <li><button type="button" class="button">Search</button></li>
                </ul>
            </div>
        </div>
        <div ng-controller="contentCtrl" class="row small-up-2 large-up-4">
            <div class="column" ng-repeat="item in items| filter:{'topSelling':true}">
                <img class="thumbnail" src={{item.picture}} alt={{item.dogName}} title={{item.dogName}}>
                <p>{{item.dogName}}</p>
                <div class="row align-justify">
                    <p class="large-8 column align-self-middle">Mâle : {{item.priceMale| currency:"€"}}</p>
                    <button class="large-2 column align-self-middle button fa fa-cart-arrow-down" ng-click='addCart(item.dogReference, "male")'></button>
                </div>
                <div class="row align-justify">
                    <p class="large-8 column align-self-middle">Femelle : {{item.priceFemale| currency:"€"}}</p>
                    <button class="large-2 column align-self-middle button fa fa-cart-arrow-down" ng-click='addCart(item.dogReference, "female")'></button>
                </div>
            </div>
            <hr/>
            <div class="row small-up-2 large-up-4">
                <div class="column" ng-repeat="item in items| filter: search">
                    <p><strong>{{item.dogName}}</strong></p>
                    <img src={{item.picture}} alt={{item.dogName}} title={{item.dogName}}>
                    <p>
                        {{"Mensurations : " + item.measurement}}
                        <br/>
                        {{"Éspérence de vie : " + item.longevity}}
                    </p>
                    <div class="row align-justify">
                        <p class="large-8 column align-self-middle">Mâle : {{item.priceMale| currency:"€"}}</p>
                        <button class="large-2 column align-self-middle button fa fa-cart-arrow-down" ng-click='addCart(item.dogReference, "male")'></button>
                    </div>
                    <div class="row align-justify">
                        <p class="large-8 column align-self-middle">Femelle : {{item.priceFemale| currency:"€"}}</p>
                        <button class="large-2 column align-self-middle button fa fa-cart-arrow-down" ng-click='addCart(item.dogReference, "female")'></button>
                    </div>
                    <br/>
                </div>
                
            </div>
        </div>
        <hr/>
        <p><a data-open="cartModal">Click me for a modal</a></p>
        <script src="bower_components/jquery/dist/jquery.min.js" type="text/javascript"></script>
        <script src="bower_components/angularjs/angular.js" type="text/javascript"></script>
        <script src="assets/js/vendor/foundation.min.js" type="text/javascript"></script>
        <script src="assets/js/app.js" type="text/javascript"></script>
        <script>
                            var ecommerceApp = angular.module('ecommerceApp', []);
                            ecommerceApp.controller('contentCtrl', ['$scope', '$http', function ($scope, $ĥttp) {
                                    $scope.cartItems = [];
                                    $ĥttp.get('assets/js/items.json').then(function (response) {
                                        $scope.items = response.data;
                                    });
                                    $scope.catfilter = function (category) {
                                        $scope.search = {
                                            'category': category
                                        };
                                    };
                                }]);
        </script>
    </body>
</html>